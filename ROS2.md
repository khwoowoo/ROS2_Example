# 환경구성

ROS2는 셸 환경을 사용하여 작업 공간을 결합하는 개념에 의존
핵심 작업 공간을 언더레이, 후속 로컬 작업 공간을 오버레이.
ROS2로 개발할 때 일반적으로 여러 작업 공간이 동시에 활성화 된다.

작업 공간을 결합하면 다양한 버전의 ROS2 또는 다양한 패키지 세트에 대한 개발이 쉬워진다.
또한 동일한 컴퓨터에 여러 ROS2 배포판을 설치하고 배포판 간에 전환할 수 있다.

새 셸을 열 때 마가 설정 파일을 소싱하거나 셸 시작 스크립트에 소스 명령을 한 번 추가 해야 함.
설치 파일을 소싱하지 않으면 ROS2 명령에 액세스하거나 ROS2 패키지를 찾거나 사용할 수 없음.

# 작업
 - 1. 설정 파일 소싱
    - source /opt/ros/foxy/setup.bash
 - 2. 쉘 시작 스크립트에 소싱 추가
    - echo "source /opt/ros/foxy/setup.bash" >> ~/.bashrc
 - 3. 환경 변수 확인
    - ROS2 설정 파일을 소싱하면, ROS2 작동에 필요한 여러 환경 변수가 설정된다.
    - ROS2 패캐지를 찾거나 사용하는 데 문제가 있는 경우 다음 명령을 사용하여,
    - 환경이 올바르게 설정되었는지 확인
    - printenv | grep -i ROS
```c
ROS_VERSION=2
ROS_PYTHON_VERSION=3
ROS_DISTRO=foxy
```
[official foxy site] (https://docs.ros.org/en/foxy/Tutorials/Beginner-CLI-Tools/Configuring-ROS2-Environment.html)

# 노드 이해
 - 배경
    - 1. ROS2 그래프
        - ROS 그래프는 한 번에 함께 데이터를 처리하는 ROS2 요소의 네트워크이다.
        - 모든 실행 파일을 매핑하고 시각화하려는 경우 모든 실행 파일과 실행 파일 간의 연결을 포함한다.
    - 2. ROS2의 노드 2개
        - ROS의 각 노드는 단일 모듈 목적(예: 휠 모터 제어용 노드 1개, 레이저 거리 측정기 제어용 노드 1개 등)
        - 각 노드를 주제, 서비스, 작업 또는 매개변수를 통해 다른 노드와 데이터를 주고 받을 수 있다.
        - 전체 로봇 시스템은 함께 작옹하는 많은 노드로 구성.
        - ROS2에서 단일 실행파일(cpp, py)은 하나 이상의 노드를 포함할 수 있음.


# Topic 이해
 - 배경
   - ROS2는 복잡한 시스템을 여러 모듈식 노드로 나눈다.
   - Topic는 노드가 메시지를 교환하는 버스 역할을 하는 ROS 그래프의 중요한 요소
   - 노드를 여러 Topic에 데이터를 게시하고 동시에 여러 Topic에 대한 구독을 가질 수 있음
   - Topic은 데이터가 노드 간에, 따라서 시스템의 다른 부분 간에 이동되는 주요한 방법 중 하나


# 서비스 이해
 - 배경
   - 서비스는 ROS 그래프의 노드에 대한 또 다른 통신 방법이다.
   - 서비스는 호출 및 응답 모델과 토픽의 게시자-구독자 모델을 기반으로 한다.
   - topic은 노드가 데이터 스트림을 구독하고 지속적인 업데이트를 받을 수 있도록 허용하지만
   - 서비스는 클라이너트가 구체적으로 호출할 때만 데이터를 제공한다.



# colcon
 - 기초
   - ROS 작업 공간은 특정 구조를 가진 디렉토리이다.
   - 일반적으로 src 하위 디렉토리가 있다
   - 그 하위 디렉토리 안에는 ROS 패키지의 소스 코드가 위치할 곳이 있다.
   - 일반적으로 디렉토리는 비어 있는 상태로 시작.
   - colcon은 소스코드 빌드를 수행하지 않고, src에 다음디렉토리를 생성한다.
      - build: 중간 파일이 저장되는 위치. 
      - install: 패키지가 설치될 위치
      - log: 각 colcon 호출에 대한 다양한 로깅 정보가 있는 
      